# Intro
- PHP - 프로그래밍 언어
- PHP Script - PHP 프로그래밍 언어의 문법에 맞게 쓴 프로그램
- PHP Interpreter - PHP Script를 해석하고 실행하는 소프트웨어

# 1. 라라벨 설치
## - 라라벨 프로젝트 구조
![img](https://appkr.github.io/l5book-snippets/draft/images/1-2.png)

라라벨 프로젝트는 크게 4부분으로 나눌 수 있다.
1. 애플리케이션 레이어(acme/myapp) - 직접 개발하는 부분
2. 라라벨 프레임워크(laravel/laravel) - 라라벨 핵심컴포넌트와 외부 컴포넌트를 조합할 수 있는 틀
3. 라라벨 핵심 컴포넌트 (laravel/framework) - 커널 또는 파운데이션이라고 부르기도 함
4. 외부 컴포넌트


맨 처음 프로젝트를 만들때의 'composer create-project laravel/laravel getLaravle_red'
2번 라라벨 프레임워크를 설치하고 composer.json에 3번 핵심컴포넌트와 4번 외부컴포넌트가 정의되어 있어 설치를 하게된다.
  
      "require":{
        "php": "^7.2",
        "laravel/framework": "^6.0"
      },
      "require-dev": {
        "facade/ignition": "^1.4",
        // "...",
      }


>**?- 왜 라라벨 프레임워크와 핵심컴포넌트로 나누어 놓았을까?**  
-> 프레임워크는 개발자가 작성한 코드와 엉켜 있기 때문에, 핵심컴포넌트는 우리의 코드와 완전히 분리되어 있게  
함으로써 핵심컴포넌트의 새로운 버전이 배포되더라도 개발자가 작성한 코드를 완전히 갈아 엎지 않아도 된다.  
[버전 변경의 충격을 흡수]

## - 라라벨 작동 원리
![img](https://appkr.github.io/l5book-snippets/draft/images/1-3.png)
1. 사용자가 브라우저에서  http://example.com/about 페이지 요청
2. 요청이 example.com이라는 이름을 가진 서버에 도착
3. 웹서버가 요청을 처리
  - URL을 해석하고 html,css,js,img 이면 요청을 바로 처리
  - 웹서버가 처리할 수 없는 파일이면 웹 서버 설정에 따라 php에게 넘김
  - php에게 작업을 넘길 때는 index.php를 향하도록 URL 경로를 변경하여 넘김
4. index.php에서 라라벨의 부팅 시퀀스가 실행됨.
  - 라라벨이 routes/web.php에 정의한 라우팅 테이블에서 about을 찾음 (**라우팅**)
  - 일치하는 라우트가 없다면 웹 서버에게 적절한 오류 응답을 반환 (**전역 예외 처리기**)
  - 일치하는 라우트가 있으면 전역 미들웨어와 about 라우트에 정의한 라우트 미들웨어가 http 요청을 필터링 (**미들웨어**)
  - 미들웨어를 통과하지 못하면 전역예외처리가 웹서버에 오류 응답 반환
  - 미들웨어를 통과하면 about요청을 처리할 컨트롤러에게 작업이 도달 (**컨트롤러**)
  - 컨트롤러가 http 요청을 처리, 이때 핵심컴포넌트,외부컴포넌트,개발자가 만든 기능을 이용하고 처리가 끝나면 http 응답을 만들고 반환.
  - 컨트롤러는 요청을 처리하는 과정에 DB를 이용하기도 한다 (**엘로퀀트**)
  - 컨트롤러는 http응답 본문을 만들때 템플릿 엔진을 이용하기도 한다 (**블레이드**)
5. 웹서버는 PHP/라라벨로부터 넘겨받은 http응답을 브라우저에 돌려줌.

> **!-Tip**  
라라벨 소스코드를 확인해야 한다면 가장 먼저 봐야 할 파일은 composer.json과 routes/web.php이다.  
어떤 외부 컴포넌트를 이용했는지, URL과 컨트롤러 간의 연결을 파악. 
          

